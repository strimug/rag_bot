# Telegram RAG Bot - –î–≤–µ –≤–µ—Ä—Å–∏–∏ (OpenAI –∏ ProxyAPI)

–ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π –ø—Ä–æ–µ–∫—Ç —Å –¥–≤—É–º—è –≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏ Telegram-–±–æ—Ç–∞ —Å RAG-—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å—é.

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [–û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞](#–æ–ø–∏—Å–∞–Ω–∏–µ-–ø—Ä–æ–µ–∫—Ç–∞)
- [–†–∞–∑–ª–∏—á–∏—è –º–µ–∂–¥—É –≤–µ—Ä—Å–∏—è–º–∏](#—Ä–∞–∑–ª–∏—á–∏—è-–º–µ–∂–¥—É-–≤–µ—Ä—Å–∏—è–º–∏)
- [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞](#—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø—Ä–æ–µ–∫—Ç–∞)
- [–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞](#—É—Å—Ç–∞–Ω–æ–≤–∫–∞-–∏-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞)
- [–ó–∞–ø—É—Å–∫ –±–æ—Ç–æ–≤](#–∑–∞–ø—É—Å–∫-–±–æ—Ç–æ–≤)
- [–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ](#–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ)
- [–ü—Ä–∏–º–µ—Ä—ã —Ä–∞–±–æ—Ç—ã](#–ø—Ä–∏–º–µ—Ä—ã-—Ä–∞–±–æ—Ç—ã)
- [–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏](#—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ-–¥–µ—Ç–∞–ª–∏)

## üéØ –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

–î–≤–∞ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã—Ö Telegram-–±–æ—Ç–∞ —Å RAG (Retrieval-Augmented Generation) —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å—é:

**RAG** - —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è, –æ–±—ä–µ–¥–∏–Ω—è—é—â–∞—è –ø–æ–∏—Å–∫ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –≤ –±–∞–∑–µ –∑–Ω–∞–Ω–∏–π —Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π —Ç–µ–∫—Å—Ç–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ —è–∑—ã–∫–æ–≤—ã—Ö –º–æ–¥–µ–ª–µ–π. –ë–æ—Ç—ã –º–æ–≥—É—Ç –Ω–∞—Ö–æ–¥–∏—Ç—å —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ö –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ—ë –¥–ª—è —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è —Ç–æ—á–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤.

### –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –±–æ—Ç–æ–≤:

‚úÖ **RAG-–∑–∞–ø—Ä–æ—Å—ã** - –ø–æ–∏—Å–∫ –∏ –æ—Ç–≤–µ—Ç—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π
‚úÖ **–û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π** - –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ —Å —Ñ–æ—Ç–æ (Vision)
‚úÖ **–í–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫** - –±—ã—Å—Ç—Ä—ã–π —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ —á–µ—Ä–µ–∑ FAISS
‚úÖ **–ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π
‚úÖ **–ü–∞–º—è—Ç—å —Ä–∞–∑–≥–æ–≤–æ—Ä–æ–≤** - –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã —Å —É—á–µ—Ç–æ–º –∏—Å—Ç–æ—Ä–∏–∏ (–¥–æ 10 —Å–æ–æ–±—â–µ–Ω–∏–π)
‚úÖ **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** - –ø–æ–ª–Ω–æ–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

## üîÑ –†–∞–∑–ª–∏—á–∏—è –º–µ–∂–¥—É –≤–µ—Ä—Å–∏—è–º–∏

### –í–µ—Ä—Å–∏—è 1: OpenAI (bot_openai/)

**–ü–æ–¥—Ö–æ–¥:** –ü—Ä—è–º–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–≥–æ OpenAI SDK

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –ü—Ä–æ—Å—Ç–æ—Ç–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- –û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ retry –º–µ—Ö–∞–Ω–∏–∑–º—ã

**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:**
```python
from openai import OpenAI
client = OpenAI(api_key=OPENAI_API_KEY)
response = client.embeddings.create(...)
```

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- –†–∞–±–æ—Ç–∞ –Ω–∞–ø—Ä—è–º—É—é —Å OpenAI API
- –ù—É–∂–Ω–∞ —Å—Ç–∞–±–∏–ª—å–Ω–∞—è –∏ –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞
- –ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤

### –í–µ—Ä—Å–∏—è 2: ProxyAPI (bot_proxy/)

**–ü–æ–¥—Ö–æ–¥:** HTTP –∑–∞–ø—Ä–æ—Å—ã –∫ OpenAI-—Å–æ–≤–º–µ—Å—Ç–∏–º–æ–º—É endpoint

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –†–∞–±–æ—Ç–∞ —Å –ª—é–±—ã–º–∏ OpenAI-—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–º–∏ API
- –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ HTTP –∑–∞–ø—Ä–æ—Å–∞–º–∏
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ª–æ–∫–∞–ª—å–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π
- –õ–µ–≥–∫–∞—è –æ—Ç–ª–∞–¥–∫–∞ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Å—Ç–æ–º–Ω—ã—Ö headers

**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:**
```python
import requests
response = requests.post(
    f"{PROXY_API_URL}/embeddings",
    headers={"Authorization": f"Bearer {PROXY_API_KEY}"},
    json={"model": EMBED_MODEL, "input": text}
)
```

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- –†–∞–±–æ—Ç–∞ —Å ProxyAPI –∏–ª–∏ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–º–∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞–º–∏
- –ù—É–∂–µ–Ω –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ HTTP –∑–∞–ø—Ä–æ—Å–∞–º–∏
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω–æ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—ã—Ö –º–æ–¥–µ–ª–µ–π
- –ù–µ–æ–±—Ö–æ–¥–∏–º–∞ –¥–µ—Ç–∞–ª—å–Ω–∞—è –æ—Ç–ª–∞–¥–∫–∞

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
rag_bot/
‚îú‚îÄ‚îÄ bot_openai/                    # –í–µ—Ä—Å–∏—è —Å OpenAI SDK
‚îÇ   ‚îú‚îÄ‚îÄ bot.py                     # –ì–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª –±–æ—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ config.py                  # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ requirements.txt           # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îÇ   ‚îú‚îÄ‚îÄ .env.example              # –ü—Ä–∏–º–µ—Ä –Ω–∞—Å—Ç—Ä–æ–µ–∫
‚îÇ   ‚îî‚îÄ‚îÄ rag/                       # RAG –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ       ‚îú‚îÄ‚îÄ __init__.py
‚îÇ       ‚îú‚îÄ‚îÄ embedder.py           # –°–æ–∑–¥–∞–Ω–∏–µ —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤
‚îÇ       ‚îú‚îÄ‚îÄ vectorstore.py        # FAISS —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
‚îÇ       ‚îú‚îÄ‚îÄ retriever.py          # –ü–æ–∏—Å–∫ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
‚îÇ       ‚îî‚îÄ‚îÄ pipeline.py           # RAG –ø–∞–π–ø–ª–∞–π–Ω
‚îÇ
‚îú‚îÄ‚îÄ bot_proxy/                     # –í–µ—Ä—Å–∏—è —Å ProxyAPI
‚îÇ   ‚îú‚îÄ‚îÄ bot.py                     # –ì–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª –±–æ—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ config.py                  # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ requirements.txt           # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îÇ   ‚îú‚îÄ‚îÄ .env.example              # –ü—Ä–∏–º–µ—Ä –Ω–∞—Å—Ç—Ä–æ–µ–∫
‚îÇ   ‚îî‚îÄ‚îÄ rag/                       # RAG –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ       ‚îú‚îÄ‚îÄ __init__.py
‚îÇ       ‚îú‚îÄ‚îÄ embedder.py           # –°–æ–∑–¥–∞–Ω–∏–µ —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤ (HTTP)
‚îÇ       ‚îú‚îÄ‚îÄ vectorstore.py        # FAISS —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
‚îÇ       ‚îú‚îÄ‚îÄ retriever.py          # –ü–æ–∏—Å–∫ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
‚îÇ       ‚îî‚îÄ‚îÄ pipeline.py           # RAG –ø–∞–π–ø–ª–∞–π–Ω (HTTP)
‚îÇ
‚îú‚îÄ‚îÄ data/                          # –î–∞–Ω–Ω—ã–µ
‚îÇ   ‚îî‚îÄ‚îÄ docs/                      # –î–æ–∫—É–º–µ–Ω—Ç—ã –¥–ª—è –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏
‚îÇ       ‚îú‚îÄ‚îÄ sample1.txt           # –ü—Ä–∏–º–µ—Ä: RAG –≤ –ø–æ–¥–¥–µ—Ä–∂–∫–µ
‚îÇ       ‚îî‚îÄ‚îÄ sample2.txt           # –ü—Ä–∏–º–µ—Ä: RAG –≤ HR
‚îÇ
‚îî‚îÄ‚îÄ README.md                      # –≠—Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python 3.10 –∏–ª–∏ –≤—ã—à–µ
- Telegram Bot Token (–ø–æ–ª—É—á–∏—Ç—å —É @BotFather)
- OpenAI API Key –∏–ª–∏ ProxyAPI credentials

### –®–∞–≥ 1: –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

#### –î–ª—è –≤–µ—Ä—Å–∏–∏ OpenAI:

```bash
cd rag_bot/bot_openai
pip install -r requirements.txt
```

#### –î–ª—è –≤–µ—Ä—Å–∏–∏ ProxyAPI:

```bash
cd rag_bot/bot_proxy
pip install -r requirements.txt
```

### –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

#### –î–ª—è bot_openai - —Å–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env`:

```env
# Telegram Bot Token (–ø–æ–ª—É—á–∏—Ç—å —É @BotFather)
TELEGRAM_TOKEN=your_telegram_bot_token_here

# OpenAI API Key (https://platform.openai.com/api-keys)
OPENAI_API_KEY=your_openai_api_key_here
```

#### –î–ª—è bot_proxy - —Å–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env`:

```env
# Telegram Bot Token (–ø–æ–ª—É—á–∏—Ç—å —É @BotFather)
TELEGRAM_TOKEN=your_telegram_bot_token_here

# ProxyAPI Settings
PROXY_API_URL=https://api.proxyapi.ru/openai/v1
PROXY_API_KEY=your_proxy_api_key_here
```

### –®–∞–≥ 3: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

1. –î–æ–±–∞–≤—å—Ç–µ —Å–≤–æ–∏ `.txt` —Ñ–∞–π–ª—ã –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é `data/docs/`
2. –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã (sample1.txt, sample2.txt)

## ‚ñ∂Ô∏è –ó–∞–ø—É—Å–∫ –±–æ—Ç–æ–≤

### –ó–∞–ø—É—Å–∫ OpenAI –≤–µ—Ä—Å–∏–∏:

```bash
cd rag_bot/bot_openai
python bot.py
```

### –ó–∞–ø—É—Å–∫ ProxyAPI –≤–µ—Ä—Å–∏–∏:

```bash
cd rag_bot/bot_proxy
python bot.py
```

### –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –±–æ—Ç–∞:

1. –ù–∞–π–¥–∏—Ç–µ –±–æ—Ç–∞ –≤ Telegram –ø–æ username
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É `/start`
3. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É `/ingest` –¥–ª—è –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
4. –ù–∞—á–Ω–∏—Ç–µ –∑–∞–¥–∞–≤–∞—Ç—å –≤–æ–ø—Ä–æ—Å—ã!

## üí¨ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `/start` | –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –∏ –æ—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è |
| `/help` | –ü–æ–¥—Ä–æ–±–Ω–∞—è —Å–ø—Ä–∞–≤–∫–∞ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é |
| `/ask <–≤–æ–ø—Ä–æ—Å>` | –ó–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å —Å RAG-–ø–æ–∏—Å–∫–æ–º |
| `/ingest` | –ü–µ—Ä–µ–∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞—Ç—å –±–∞–∑—É –∑–Ω–∞–Ω–∏–π |
| `/stats` | –ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É —Å–∏—Å—Ç–µ–º—ã –∏ –∏—Å—Ç–æ—Ä–∏–∏ |
| `/clear` | –û—á–∏—Å—Ç–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é —Ä–∞–∑–≥–æ–≤–æ—Ä–∞ |
| `/test` | (—Ç–æ–ª—å–∫–æ proxy) –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ API |

### –°–ø–æ—Å–æ–±—ã –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è

#### 1. –¢–µ–∫—Å—Ç–æ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã

–ü—Ä–æ—Å—Ç–æ –Ω–∞–ø–∏—à–∏—Ç–µ –≤–æ–ø—Ä–æ—Å –±–æ—Ç—É:

```
–ß—Ç–æ —Ç–∞–∫–æ–µ RAG –∏ –∫–∞–∫ –æ–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç?
```

–ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- –ù–∞–π–¥–µ—Ç —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –≤ –±–∞–∑–µ –∑–Ω–∞–Ω–∏–π
- –£—á—Ç–µ—Ç –∏—Å—Ç–æ—Ä–∏—é –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –¥–ª—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
- –°—Ñ–æ—Ä–º–∏—Ä—É–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç
- –°–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –æ—Ç–≤–µ—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ –Ω–∞–π–¥–µ–Ω–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏

#### 2. –ö–æ–º–∞–Ω–¥–∞ /ask

–Ø–≤–Ω—ã–π RAG-–∑–∞–ø—Ä–æ—Å:

```
/ask –ö–∞–∫ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è RAG –≤ –ø–æ–¥–¥–µ—Ä–∂–∫–µ –∫–ª–∏–µ–Ω—Ç–æ–≤?
```

#### 3. –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

–û—Ç–ø—Ä–∞–≤—å—Ç–µ —Ñ–æ—Ç–æ (—Å–∫—Ä–∏–Ω—à–æ—Ç, –¥–æ–∫—É–º–µ–Ω—Ç, –∫–∞—Ä—Ç–∏–Ω–∫—É —Å —Ç–µ–∫—Å—Ç–æ–º):

- **–ë–µ–∑ –ø–æ–¥–ø–∏—Å–∏**: –ë–æ—Ç –∏–∑–≤–ª–µ—á–µ—Ç —Ç–µ–∫—Å—Ç —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- **–° –ø–æ–¥–ø–∏—Å—å—é**: –ë–æ—Ç –∏–∑–≤–ª–µ—á–µ—Ç —Ç–µ–∫—Å—Ç –ò –æ—Ç–≤–µ—Ç–∏—Ç –Ω–∞ –≤–∞—à –≤–æ–ø—Ä–æ—Å, –∏—Å–ø–æ–ª—å–∑—É—è RAG

–ü—Ä–∏–º–µ—Ä:
```
[–ü—Ä–∏–∫—Ä–µ–ø–∏—Ç–µ —Ñ–æ—Ç–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞]
–ü–æ–¥–ø–∏—Å—å: –û–±—ä—è—Å–Ω–∏ —á—Ç–æ —ç—Ç–æ –∑–Ω–∞—á–∏—Ç
```

## üìö –ü—Ä–∏–º–µ—Ä—ã —Ä–∞–±–æ—Ç—ã

### –ü—Ä–∏–º–µ—Ä 1: –ü—Ä–æ—Å—Ç–æ–π RAG-–∑–∞–ø—Ä–æ—Å

**–ó–∞–ø—Ä–æ—Å:**
```
–ö–∞–∫–∏–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ RAG –≤ HR-–ø—Ä–æ—Ü–µ—Å—Å–∞—Ö?
```

**–û—Ç–≤–µ—Ç –±–æ—Ç–∞:**
```
üí° –û—Ç–≤–µ—Ç:
RAG –≤ HR-–ø—Ä–æ—Ü–µ—Å—Å–∞—Ö –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:

–î–ª—è HR-–æ—Ç–¥–µ–ª–∞:
‚Ä¢ –°–æ–∫—Ä–∞—â–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É —Ç–∏–ø–æ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ 70%
‚Ä¢ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ñ–æ–∫—É—Å–∏—Ä–æ–≤–∞—Ç—å—Å—è –Ω–∞ —Å—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∏—Ö –∑–∞–¥–∞—á–∞—Ö
‚Ä¢ –ï–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏–µ –≤ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏

–î–ª—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤:
‚Ä¢ –î–æ—Å—Ç—É–ø –∫ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ 24/7
‚Ä¢ –ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã
‚Ä¢ –ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å –∑–∞–ø—Ä–æ—Å–æ–≤

–î–ª—è –∫–æ–º–ø–∞–Ω–∏–∏:
‚Ä¢ –°–Ω–∏–∂–µ–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö –∑–∞—Ç—Ä–∞—Ç HR-–æ—Ç–¥–µ–ª–∞
‚Ä¢ –ü–æ–≤—ã—à–µ–Ω–∏–µ —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä–µ–Ω–Ω–æ—Å—Ç–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤
‚Ä¢ –£–ª—É—á—à–µ–Ω–∏–µ –æ–ø—ã—Ç–∞ –æ–Ω–±–æ—Ä–¥–∏–Ω–≥–∞

üìö –ò—Å—Ç–æ—á–Ω–∏–∫–∏: sample2.txt
```

### –ü—Ä–∏–º–µ—Ä 2: –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è

**–î–µ–π—Å—Ç–≤–∏–µ:** –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ —Å —Ç–µ–∫—Å—Ç–æ–º + –ø–æ–¥–ø–∏—Å—å "–ß—Ç–æ —ç—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç?"

**–û—Ç–≤–µ—Ç –±–æ—Ç–∞:**
```
üìÑ –¢–µ–∫—Å—Ç —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è:
[–ò–∑–≤–ª–µ—á–µ–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç –∏–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è]

üí° –û—Ç–≤–µ—Ç –Ω–∞ –≤–∞—à –≤–æ–ø—Ä–æ—Å:
[–û–±—ä—è—Å–Ω–µ–Ω–∏–µ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏–∑–≤–ª–µ—á–µ–Ω–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ –∏ –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π]

üìö –ò—Å—Ç–æ—á–Ω–∏–∫–∏: sample1.txt, sample2.txt
```

### –ü—Ä–∏–º–µ—Ä 3: –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–π —Ä–∞–∑–≥–æ–≤–æ—Ä —Å –ø–∞–º—è—Ç—å—é

**–î–∏–∞–ª–æ–≥:**

```
üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: –ß—Ç–æ —Ç–∞–∫–æ–µ RAG?

ü§ñ –ë–æ—Ç: RAG (Retrieval-Augmented Generation) - —ç—Ç–æ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è, –∫–æ—Ç–æ—Ä–∞—è 
–æ–±—ä–µ–¥–∏–Ω—è–µ—Ç –ø–æ–∏—Å–∫ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –≤ –±–∞–∑–µ –∑–Ω–∞–Ω–∏–π —Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π –æ—Ç–≤–µ—Ç–æ–≤...
üìö –ò—Å—Ç–æ—á–Ω–∏–∫–∏: sample1.txt

üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: –ê –≥–¥–µ —ç—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è?

ü§ñ –ë–æ—Ç: RAG (–æ –∫–æ—Ç–æ—Ä–æ–º –º—ã –≥–æ–≤–æ—Ä–∏–ª–∏ –≤—ã—à–µ) –∞–∫—Ç–∏–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤:
- –°–ª—É–∂–±–∞—Ö –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –∫–ª–∏–µ–Ω—Ç–æ–≤ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –æ—Ç–≤–µ—Ç–æ–≤
- HR-–æ—Ç–¥–µ–ª–∞—Ö –¥–ª—è –ø–æ–º–æ—â–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º
- –¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞...
üìö –ò—Å—Ç–æ—á–Ω–∏–∫–∏: sample1.txt, sample2.txt

üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: –ö–∞–∫ —ç—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç HR?

ü§ñ –ë–æ—Ç: –í HR-–ø—Ä–æ—Ü–µ—Å—Å–∞—Ö RAG –ø–æ–º–æ–≥–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–≤–µ—Ç—ã –Ω–∞ 
—Ç–∏–ø–æ–≤—ã–µ –≤–æ–ø—Ä–æ—Å—ã —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –æ –ø–æ–ª–∏—Ç–∏–∫–∞—Ö –∫–æ–º–ø–∞–Ω–∏–∏, –ª—å–≥–æ—Ç–∞—Ö...
üìö –ò—Å—Ç–æ—á–Ω–∏–∫–∏: sample2.txt

üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: /stats

ü§ñ –ë–æ—Ç:
üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ RAG-—Å–∏—Å—Ç–µ–º—ã

–í–∞—à –∫–æ–Ω—Ç–µ–∫—Å—Ç:
‚Ä¢ –°–æ–æ–±—â–µ–Ω–∏–π –≤ –∏—Å—Ç–æ—Ä–∏–∏: 3

üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: /clear

ü§ñ –ë–æ—Ç: üßπ –ò—Å—Ç–æ—Ä–∏—è –æ—á–∏—â–µ–Ω–∞!
–£–¥–∞–ª–µ–Ω–æ 3 —Å–æ–æ–±—â–µ–Ω–∏–π –∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞.
–ù–∞—á–∏–Ω–∞–µ–º —Ä–∞–∑–≥–æ–≤–æ—Ä —Å —á–∏—Å—Ç–æ–≥–æ –ª–∏—Å—Ç–∞!
```

**–û–ø–∏—Å–∞–Ω–∏–µ:**
- –ë–æ—Ç –ø–æ–º–Ω–∏—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç –ø–æ—Å–ª–µ–¥–Ω–∏—Ö 10 —Å–æ–æ–±—â–µ–Ω–∏–π
- –ü–æ–Ω–∏–º–∞–µ—Ç –º–µ—Å—Ç–æ–∏–º–µ–Ω–∏—è –∏ –æ—Ç—Å—ã–ª–∫–∏ –∫ –ø—Ä–µ–¥—ã–¥—É—â–∏–º –≤–æ–ø—Ä–æ—Å–∞–º ("—ç—Ç–æ", "—Ç–∞–º", "–∫–∞–∫ –≤—ã —Å–∫–∞–∑–∞–ª–∏")
- `/clear` –æ—á–∏—â–∞–µ—Ç –∏—Å—Ç–æ—Ä–∏—é –¥–ª—è –Ω–∞—á–∞–ª–∞ –Ω–æ–≤–æ–π —Ç–µ–º—ã
- `/stats` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–æ–±—â–µ–Ω–∏–π –≤ –ø–∞–º—è—Ç–∏

### –ü—Ä–∏–º–µ—Ä 4: –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

**–ö–æ–º–∞–Ω–¥–∞:** `/ingest`

**–û—Ç–≤–µ—Ç –±–æ—Ç–∞:**
```
‚úÖ –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ!

üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:
‚Ä¢ –î–æ–∫—É–º–µ–Ω—Ç–æ–≤: 2
‚Ä¢ –í–µ–∫—Ç–æ—Ä–æ–≤: 2
‚Ä¢ –†–∞–∑–º–µ—Ä–Ω–æ—Å—Ç—å: 1536

–ë–æ—Ç –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ! –ó–∞–¥–∞–≤–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å—ã. üí¨
```

### –ü—Ä–∏–º–µ—Ä 4: –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

**–ö–æ–º–∞–Ω–¥–∞:** `/stats`

**–û—Ç–≤–µ—Ç –±–æ—Ç–∞:**
```
üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ RAG-—Å–∏—Å—Ç–µ–º—ã

–°–æ—Å—Ç–æ—è–Ω–∏–µ –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π:
‚úÖ –ó–∞–≥—Ä—É–∂–µ–Ω–∞

–î–∞–Ω–Ω—ã–µ:
‚Ä¢ –î–æ–∫—É–º–µ–Ω—Ç–æ–≤: 2
‚Ä¢ –í–µ–∫—Ç–æ—Ä–æ–≤: 2
‚Ä¢ –†–∞–∑–º–µ—Ä–Ω–æ—Å—Ç—å: 1536

–ú–æ–¥–µ–ª–∏:
‚Ä¢ –ß–∞—Ç: gpt-4o-mini
‚Ä¢ Vision: gpt-4o-mini
‚Ä¢ –≠–º–±–µ–¥–¥–∏–Ω–≥–∏: text-embedding-3-small

–§–∞–π–ª—ã:
‚Ä¢ –ò–Ω–¥–µ–∫—Å: ‚úÖ
‚Ä¢ –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ: ‚úÖ
```

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ RAG-—Å–∏—Å—Ç–µ–º—ã

```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Üí Telegram Bot
                    ‚Üì
                RAG Pipeline
                    ‚Üì
        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
        ‚Üì                       ‚Üì
    Embedder              Retriever
        ‚Üì                       ‚Üì
    OpenAI/Proxy         VectorStore (FAISS)
        ‚Üì                       ‚Üì
    Embeddings            Search Results
        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                    ‚Üì
            Context Formation
                    ‚Üì
            LLM (GPT-4o-mini)
                    ‚Üì
            Answer Generation
                    ‚Üì
            Response to User
```

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã

#### 1. **Embedder** (embedder.py)

–ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç —Ç–µ–∫—Å—Ç –≤ –≤–µ–∫—Ç–æ—Ä–Ω—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è (embeddings).

**OpenAI –≤–µ—Ä—Å–∏—è:**
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç OpenAI SDK
- –ú–æ–¥–µ–ª—å: text-embedding-3-small
- –†–∞–∑–º–µ—Ä–Ω–æ—Å—Ç—å: 1536

**ProxyAPI –≤–µ—Ä—Å–∏—è:**
- HTTP POST –∑–∞–ø—Ä–æ—Å—ã
- OpenAI-—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–π —Ñ–æ—Ä–º–∞—Ç
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–∞—Å—Ç–æ–º–Ω—ã—Ö endpoints

#### 2. **VectorStore** (vectorstore.py)

–•—Ä–∞–Ω–∏—Ç –∏ –∏—â–µ—Ç –≤–µ–∫—Ç–æ—Ä–Ω—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤.

**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è:** FAISS (Facebook AI Similarity Search)
- –ë—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫ –ø–æ—Ö–æ–∂–∏—Ö –≤–µ–∫—Ç–æ—Ä–æ–≤
- IndexFlatL2 - –µ–≤–∫–ª–∏–¥–æ–≤–∞ –º–µ—Ç—Ä–∏–∫–∞
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞ –¥–∏—Å–∫ (.faiss + .json)

#### 3. **Retriever** (retriever.py)

–ò–∑–≤–ª–µ–∫–∞–µ—Ç —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –ø–æ –∑–∞–ø—Ä–æ—Å—É.

**–ü—Ä–æ—Ü–µ—Å—Å:**
1. –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–∞ –≤ —ç–º–±–µ–¥–¥–∏–Ω–≥
2. –ü–æ–∏—Å–∫ Top-K –ø–æ—Ö–æ–∂–∏—Ö –≤–µ–∫—Ç–æ—Ä–æ–≤
3. –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –∏–∑ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

#### 4. **Pipeline** (pipeline.py)

–ö–æ–æ—Ä–¥–∏–Ω–∏—Ä—É–µ—Ç —Ä–∞–±–æ—Ç—É –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤.

**–ü—Ä–æ—Ü–µ—Å—Å RAG:**
1. –ü–æ–ª—É—á–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
2. –ü–æ–∏—Å–∫ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (Retrieval)
3. –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–∞ —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º (Augmented)
4. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–∞ –º–æ–¥–µ–ª—å—é (Generation)

### –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –º–æ–¥–µ–ª–∏

| –ú–æ–¥–µ–ª—å | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | –°—Ç–æ–∏–º–æ—Å—Ç—å (OpenAI) |
|--------|------------|-------------------|
| text-embedding-3-small | –°–æ–∑–¥–∞–Ω–∏–µ —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤ | $0.02 / 1M tokens |
| gpt-4o-mini | –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–æ–≤ | $0.15 / 1M input tokens |
| gpt-4o-mini | Vision (–æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π) | $0.15 / 1M input tokens |

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ RAG

–í —Ñ–∞–π–ª–µ `config.py`:

```python
# –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –¥–ª—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
TOP_K_RESULTS = 3

# –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
MAX_CONTEXT_LENGTH = 3000

# –ú–æ–¥–µ–ª–∏
EMBED_MODEL = "text-embedding-3-small"
CHAT_MODEL = "gpt-4o-mini"
VISION_MODEL = "gpt-4o-mini"
```

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –≤ —Ñ–∞–π–ª `bot.log`:

```python
LOG_LEVEL = "INFO"  # DEBUG, INFO, WARNING, ERROR
```

–õ–æ–≥–∏ –≤–∫–ª—é—á–∞—é—Ç:
- –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- –û–±—Ä–∞—â–µ–Ω–∏—è –∫ API
- –û—à–∏–±–∫–∏ –∏ –∏—Å–∫–ª—é—á–µ–Ω–∏—è

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:

1. **–ù–µ –∫–æ–º–º–∏—Ç—å—Ç–µ —Ñ–∞–π–ª—ã .env** –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ .gitignore** –¥–ª—è –∑–∞—â–∏—Ç—ã —Å–µ–∫—Ä–µ—Ç–æ–≤
3. **–û–≥—Ä–∞–Ω–∏—á—å—Ç–µ –¥–æ—Å—Ç—É–ø** –∫ –∫–æ–º–∞–Ω–¥–µ /ingest (—Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã)
4. **–õ–æ–≥–∏—Ä—É–π—Ç–µ –≤—Å–µ –¥–µ–π—Å—Ç–≤–∏—è** –¥–ª—è –∞—É–¥–∏—Ç–∞
5. **–†–µ–≥—É–ª—è—Ä–Ω–æ –æ–±–Ω–æ–≤–ª—è–π—Ç–µ** –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

### –ü—Ä–∏–º–µ—Ä .gitignore:

```gitignore
# Environment variables
.env
*.env

# FAISS indexes
*.faiss
metadata.json

# Logs
*.log

# Python
__pycache__/
*.py[cod]
*$py.class
.venv/
venv/
```

## üêõ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–±–ª–µ–º–∞: "–ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω–∞"

**–†–µ—à–µ–Ω–∏–µ:** –í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É `/ingest` –¥–ª—è –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

### –ü—Ä–æ–±–ª–µ–º–∞: "–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±—Ä–∞—â–µ–Ω–∏–∏ –∫ API"

**–†–µ—à–µ–Ω–∏–µ:** 
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ API –∫–ª—é—á–∏ –≤ .env —Ñ–∞–π–ª–µ
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –±–∞–ª–∞–Ω—Å –∞–∫–∫–∞—É–Ω—Ç–∞ OpenAI/ProxyAPI
3. –î–ª—è ProxyAPI: –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `/test` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

### –ü—Ä–æ–±–ª–µ–º–∞: "–î–æ–∫—É–º–µ–Ω—Ç—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã"

**–†–µ—à–µ–Ω–∏–µ:**
1. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ .txt —Ñ–∞–π–ª—ã –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ `data/docs/`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–¥–∏—Ä–æ–≤–∫—É —Ñ–∞–π–ª–æ–≤ (–¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å UTF-8)
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—É—Ç—å DOCS_PATH –≤ config.py

### –ü—Ä–æ–±–ª–µ–º–∞: "–û—à–∏–±–∫–∞ –∏–º–ø–æ—Ä—Ç–∞ –º–æ–¥—É–ª–µ–π"

**–†–µ—à–µ–Ω–∏–µ:**
```bash
pip install -r requirements.txt --upgrade
```

## üìà –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ

### –î–ª—è –±–æ–ª—å—à–∏—Ö –±–∞–∑ –∑–Ω–∞–Ω–∏–π:

1. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ IVF –∏–Ω–¥–µ–∫—Å—ã –≤ FAISS:**
```python
# –í vectorstore.py
self.index = faiss.IndexIVFFlat(quantizer, dimension, nlist)
```

2. **–†–∞–∑–±–∏–≤–∞–π—Ç–µ –±–æ–ª—å—à–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã:**
```python
# Chunk size ~500-1000 —Å–ª–æ–≤
MAX_CHUNK_SIZE = 3000
```

3. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ async –æ–ø–µ—Ä–∞—Ü–∏–∏:**
```python
# –î–ª—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
import aiohttp
```

## ü§ù –í–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç

–ü—Ä–æ–µ–∫—Ç –æ—Ç–∫—Ä—ã—Ç –¥–ª—è —É–ª—É—á—à–µ–Ω–∏–π:

- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –¥—Ä—É–≥–∏—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (PDF, DOCX)
- –†–µ–∞–ª–∏–∑–∞—Ü–∏—è re-ranking –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –ø–æ–∏—Å–∫–∞
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –æ—Ç–≤–µ—Ç–æ–≤
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –¥—Ä—É–≥–∏–º–∏ LLM –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞–º–∏
- –£–ª—É—á—à–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω –≤ –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö —Ü–µ–ª—è—Ö.

## üîó –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [OpenAI API Documentation](https://platform.openai.com/docs)
- [FAISS Documentation](https://github.com/facebookresearch/faiss)
- [Aiogram Documentation](https://docs.aiogram.dev/)
- [RAG Papers](https://arxiv.org/abs/2005.11401)

---

**–°–æ–∑–¥–∞–Ω–æ —Å ‚ù§Ô∏è –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ RAG —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏**
